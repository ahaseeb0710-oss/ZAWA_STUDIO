<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
    <link rel="manifest" href="assets/img/site.webmanifest">
</head>
<body>

<div class="auth-container">
  <h2>Login</h2>

  <input type="text" id="name" placeholder="Your Name">
  <input type="email" id="email" placeholder="Email" required>
  <input type="password" id="password" placeholder="Password" required minlength="6">


  <button onclick="login()">Login</button>
  <p>Don't have an account?
   <a href="signup.html" style="text-decoration: none; color: blanchedalmond;">Sign Up</a>
</p>

</div>

<script>
function login(){

  const storedUser = JSON.parse(localStorage.getItem("user"));

  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  // ðŸ”´ Empty Check
  if(!email || !password){
      alert("Please fill all fields!");
      return;
  }

  // ðŸ”´ Check if account exists
  if(!storedUser){
      alert("No account found! Please sign up first.");
      return;
  }

  // ðŸ”´ Match Email & Password
  if(storedUser.email === email && storedUser.password === password){

     localStorage.setItem("loggedIn","true");
alert("Login Successful!");

// Check if user was redirected to login
const redirectPage = localStorage.getItem("redirectAfterLogin");

if (redirectPage) {
    localStorage.removeItem("redirectAfterLogin"); // clean it
    window.location.href = redirectPage; // go back to previous page
} else {
    window.location.href = "index.html"; // default
}


  } else {
      alert("Invalid Email or Password!");
  }
}
</script>


</body>
</html>
